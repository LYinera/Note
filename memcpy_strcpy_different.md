**日期：2023.6.28**

**记录原因：**

PKI CA代码踩坑，传递数据流使用strcpy/strncpy数据复制不完全。

**解决方案：**

修改复制方法为memcpy。

**经验体会：**

strcpy以及其较为安全版本strncpy只能用于copy字符串，复制至\0结束。若复制数据中含有\0时遇到\0时会切断数据流，即使指定数据长度仍然无法复制\0之后的数据。与之相比，memcpy更加优秀，可以复制指定数量的数据并且可以复制全部数据类型，而且因为第三参数size的存在所以可以避免溢出问题。memcpy与strcpy/strncpy相比缺点为因为底层三个变量的运算以及数据类型的转换所导致的效率稍低，在不是极致追求效率时为保证数据安全以及代码复用应使用memcpy进行数据拷贝。